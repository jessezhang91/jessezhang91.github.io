$(document).ready(function(){function o(o){var t=!0,n=$(".container"),e=n.scrollTop(),i=$(window).height(),r=l*i;setTimeout(function(){$(document).off("mousedown.stopSmoothScroll keydown.stopSmoothScroll mousewheel.stopSmoothScroll touchstart.stopSmoothScroll"),$(document).one("mousedown.stopSmoothScroll keydown.stopSmoothScroll mousewheel.stopSmoothScroll touchstart.stopSmoothScroll",function(){t=!1,$(document).off("mousedown.stopSmoothScroll keydown.stopSmoothScroll mousewheel.stopSmoothScroll touchstart.stopSmoothScroll")})});var a=function(){e+=Math.min(r,Math.abs(o-e)/c)*(o>e?1:-1),Math.abs(e-o)<1&&(e=o,$(document).trigger("mousewheel")),n.scrollTop(e),$(".container").trigger("scroll"),t&&window.requestAnimationFrame(a)};window.requestAnimationFrame(a)}function t(o){$(".menu-container").css("top",o)}function n(o,t){var n=$(".contact"),e=1.1*n.outerHeight(),i=(o-t*(m-1))/t*e;n.css("bottom",Math.min(0,i)-o)}function e(){$(".slide .layer").each(function(){var o=$(this).attr("class").match(/layer-([\w]+)/i);o&&(o="bg"==o[1]?s:Number(o[1]),$(this).data("layer",o)),$(this).css("transform","translateZ(0)")})}function i(o){$(".slide").each(function(){var t=this.getBoundingClientRect();a(t,o)&&r(this,t.top,o)})}function r(o,t){$(o).find(".layer").each(function(){var o=$(this),n=o.data("layer");o.css("top",-t*n/(s+1))})}function a(o,t){var n=o.top,e=o.height;return 0>n+e||n>t?!1:!0}var c=8,l=.25;$("a[href^='#']").each(function(){var t=$(this),n=t.attr("href").substr(1);t.attr("href",null),t.on("click",function(){var t=$(".container").scrollTop();window.location.hash="#"+n,$(".container").trigger("scroll"),$(".container").scrollTop(t),o($("#"+n)[0].getBoundingClientRect().top+t)})});var s=10,m=2,u=$(".layer-bg")[0].getBoundingClientRect().width!=$(".layer-bg").width();u&&e(),$(window).on("resize",function(){$(".container").trigger("scroll")}),$(".container").on("scroll",function(){var o=$(window).height(),e=$(".container").scrollTop();t(e),n(e,o),u&&i(o)}).trigger("scroll")}),function(){for(var o=0,t=["ms","moz","webkit","o"],n=!(!window.performance||!window.performance.now),e=0,i=t.length;i>e&&!window.requestAnimationFrame;e+=1)window.requestAnimationFrame=window[t[e]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[e]+"CancelAnimationFrame"]||window[t[e]+"CancelRequestAnimationFrame"];if(window.requestAnimationFrame||(window.requestAnimationFrame=function(t){var n=(new Date).getTime(),e=Math.max(0,16-(n-o)),i=window.setTimeout(function(){t(n+e)},e);return o=n+e,i}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(o){clearTimeout(o)}),!n){var r=window.requestAnimationFrame,a=+new Date;window.requestAnimationFrame=function(o,t){var n=function(t){var n=1e12>t?t:t-a;return o(n)};r(n,t)}}}();